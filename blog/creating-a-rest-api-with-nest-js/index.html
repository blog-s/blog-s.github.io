<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link href="/styles.e6bbfc168074d5aadce1.css" rel="stylesheet" type="text/css"/><meta name="generator" content="Gatsby 2.21.21"/><link data-styled="" data-styled-version="5.1.0" rel="stylesheet" type="text/css"/><title data-react-helmet="true">Creating a REST API with NestJS | Front-end Developer</title><meta data-react-helmet="true" name="description" content="Front-end Developer &amp;amp; Android/Flutter Enthusiastic"/><meta data-react-helmet="true" property="og:title" content="Creating a REST API with NestJS"/><meta data-react-helmet="true" property="og:description" content="Front-end Developer &amp;amp; Android/Flutter Enthusiastic"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="JonnyAcevedo.com"/><meta data-react-helmet="true" name="twitter:title" content="Creating a REST API with NestJS"/><meta data-react-helmet="true" name="twitter:description" content="Front-end Developer &amp;amp; Android/Flutter Enthusiastic"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><link rel="icon" href="/favicon-32x32.png?v=fec07b293b8ee3978a3329802599bb5c"/><link rel="manifest" href="/manifest.webmanifest"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=fec07b293b8ee3978a3329802599bb5c"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=fec07b293b8ee3978a3329802599bb5c"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=fec07b293b8ee3978a3329802599bb5c"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=fec07b293b8ee3978a3329802599bb5c"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=fec07b293b8ee3978a3329802599bb5c"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=fec07b293b8ee3978a3329802599bb5c"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=fec07b293b8ee3978a3329802599bb5c"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=fec07b293b8ee3978a3329802599bb5c"/><link as="script" rel="preload" href="/webpack-runtime-70424c2a5e394e63a2fa.js"/><link as="script" rel="preload" href="/framework-3c607a9ab5a1c641bbca.js"/><link as="script" rel="preload" href="/styles-a8d7dafea8d6423ec243.js"/><link as="script" rel="preload" href="/app-1ca532f105f5f342d7a2.js"/><link as="script" rel="preload" href="/commons-f30d36c3b5dd7c437f7b.js"/><link as="script" rel="preload" href="/component---src-layouts-blog-post-js-1a46acb6dcb05e9a30a1.js"/><link as="fetch" rel="preload" href="/page-data/blog/creating-a-rest-api-with-nest-js/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="undefined layout-container"><header class="header sticky top-0 z-10 pt-2 pb-3 bg-gray-900 h-12 shadow-xl "><div class="header__container container max-w-screen-lg px-4 flex justify-between"><h1 class="header__logo m-0 font-thin leading-none"><a class="hover:no-underline" href="/">Jonny <span class="text-white font-semibold">Acevedo</span></a></h1><img src="https://res.cloudinary.com/dl8ynwaiu/image/upload/v1587906075/portfolio/hamburguer-white_tyy3pk.svg" alt="Hamburguer Menu White" class="block md:hidden m-0"/><nav class="header__nav hidden md:block md:mt-1 "><ul class="flex"><li><a href="/">Home</a></li><li><a href="/blog">Blog</a></li><li><a href="#contact-me">Contact Me</a></li></ul></nav></div></header><main class="container max-w-screen-lg px-4"><div class="blog-post"><header class="blog-post__headings pt-8 md:pt-12 pb-8"><div class="blog-post__mainCategory"><a href="/blog/category/nest-js">NestJS</a></div><h1 class="blog-post__mainHeading my-0 text-3xl md:text-5xl">Creating a REST API with NestJS</h1></header><div class="blog-post__content font-serif mb-16"><p>A guide to create a simple REST API using NestJS, please have in mind that not data base was used here, in a future post, I will integrate the REST API with a data base.</p><p>This post was made with the purpose of actually learning NestJS myself, so, if you see things I can improve, please let me know <a href="#contact-me">here</a>, I&#x27;ll appreciate it.</p><h2>Basic Set up</h2><p>NestJs installation:
<code class="language-text">npm i -g @nestjs/cli</code></p><p>Project creation:
<code class="language-text">nest new project-name</code></p><p>In the project creation it will ask you to use <code class="language-text">npm</code> or <code class="language-text">yarn</code>, use as you wish, I used yarn this time.</p><hr/><p>After installation, go to your new folder
<code class="language-text">cd project-name</code></p><p>and run project
<code class="language-text">yarn run start</code></p><p>and there you go!! open <code class="language-text">http://localhost:3000/</code> and you will have your new project running.</p><p><strong>Note:</strong> While developing, I will use <code class="language-text">yarn run start:dev</code> command, that is going to start watching my changes and applying what I do, what do I mean with this, by default, when you start your project, if you make you changes, you will NOT see them if you reload <code class="language-text">http://localhost:3000/</code>, you would have to stop your server and start it again, that&#x27;s not help full, so, with <code class="language-text">yarn run start:dev</code>, it will start watching for file changes and when you reload your server URL, they will be applied, this will work kinda like the <code class="language-text">nodemon</code> tool.</p><h2>Basic Route Change</h2><p>By default, opening <code class="language-text">http://localhost:3000/</code> will call the default <code class="language-text">getHello()</code> method that has the decorator <code class="language-text">@Get()</code> in the AppController class, so, let&#x27;s edit it:</p><p><strong>Changing the controller</strong>
Open your file <code class="language-text">src/app.controller.ts</code>, you will see the decorator <code class="language-text">@Controller()</code>, let&#x27;s change that controller to <code class="language-text">@Controller(&quot;api&quot;)</code>, now if you access <code class="language-text">/</code> is going to give you a 404 error, but if you access <code class="language-text">http://localhost:3000/api</code> you will see your Hello World again</p><p><strong>Changing the method</strong>
You can change the method url as well, so to make your <code class="language-text">getHello()</code> method work in another url lets edit its decorator <code class="language-text">@Get()</code> to <code class="language-text">@Get(&quot;get-message&quot;)</code></p><p>Now <code class="language-text">/</code> and <code class="language-text">/app</code> aren&#x27;t going to work, they will fire 404, the route <code class="language-text">http://localhost:3000/api/get-message</code> is the one firing our <code class="language-text">getHello()</code> method now with the message Hello world!</p><h2>Environment variables</h2><p><code class="language-text">yarn add dotenv</code> or (<code class="language-text">npm install dotenv</code>) is going to be used to set the Environment variables in a <code class="language-text">.env</code> file and imported to the project.</p><p>Later in our file <code class="language-text">/src/main.ts</code> we import it like this <code class="language-text">import &#x27;dotenv/config&#x27;;</code> to have the environment variables in our project.</p><p>Now, in our root folder, let&#x27;s create a file called <code class="language-text">.env</code>, there, set the route to your PORT to any number like:
<code class="language-text">PORT = 3001</code></p><p>and then in your <code class="language-text">/src/main.ts</code>:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">//PORT equal to 3001, the one we set up before or 3000 if not process.env.PORT found</span>
<span class="token keyword">const</span> <span class="token constant">PORT</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span>
<span class="token operator">...</span>
<span class="token comment">// later put you app to listen PORT instead of the default `3000`</span>
<span class="token keyword">await</span> app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div><h2>Using the CLI</h2><p>As any other modern framework, NestJs has a CLI (Command-line interface) that we can make use of to make our lives better, this is the CLI docs <a href="https://docs.nestjs.com/cli/usages" target="_blank" rel="nofollow noopener noreferrer">https://docs.nestjs.com/cli/usages</a></p><p><strong>Creating a new module</strong>
<code class="language-text">nest g mo people</code> to generate(g) a new module(mo) people under the folder src/people</p><h2>Basic module set up</h2><p>In the file <code class="language-text">src/people/people.module.ts</code>, in the module decorator, we can set up the <code class="language-text">imports</code>, <code class="language-text">controllers</code> and <code class="language-text">provides</code> for future use:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">@<span class="token function">Module</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    imports<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    controllers<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    providers<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre></div><ul><li><p>Now let&#x27;s create the controller(co) with CLI <code class="language-text">nest g co people/controller/people</code> and this will create the class <code class="language-text">PeopleController</code> and it will attach it to our <code class="language-text">controllers</code> in <code class="language-text">@Module</code> decorator in our class <code class="language-text">PeopleModule</code></p></li><li><p>Later, the service(s): <code class="language-text">nest g s people/service/people</code>, this will create the class <code class="language-text">PeopleService</code> and it will attach it to the <code class="language-text">providers</code> in our module</p></li></ul><h2>People model</h2><p>Under people module, lets create a new model <code class="language-text">model/person.model.ts</code> that will look like this:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">PersonModel</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>
    <span class="token parameter"><span class="token keyword">public</span> id<span class="token operator">:</span> number<span class="token punctuation">,</span>
    <span class="token keyword">public</span> name<span class="token operator">:</span> string<span class="token punctuation">,</span>
    <span class="token keyword">public</span> age<span class="token operator">:</span> number<span class="token punctuation">,</span>
    <span class="token keyword">public</span> email<span class="token operator">:</span> string<span class="token punctuation">,</span></span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2>Editing the service</h2><p>In our service, we are going to create a method called <code class="language-text">save</code> and it will push to the array <code class="language-text">people</code> a new <code class="language-text">person</code> wit the type <code class="language-text">PersonModel</code>, this is how the service will look like:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Controller <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@nestjs/common&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PersonModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;src/people/model/person.model&#x27;</span><span class="token punctuation">;</span>

@<span class="token function">Controller</span><span class="token punctuation">(</span><span class="token string">&#x27;people&#x27;</span><span class="token punctuation">)</span> <span class="token comment">// notice I changed the @Injectable() decorator</span>
<span class="token comment">// created by default for nest CLI with the @Controller one and set it to &#x27;people&#x27;</span>

<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">PeopleService</span> <span class="token punctuation">{</span>
  <span class="token comment">// this is the array people where we push the new person, so, it is an array type &lt;PersonModel&gt;</span>
  <span class="token keyword">private</span> people<span class="token operator">:</span> Array<span class="token operator">&lt;</span>PersonModel<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// The method save is going to receive the parameters we need to send to the PersonModel</span>
  <span class="token function">save</span><span class="token punctuation">(</span>name<span class="token operator">:</span> string<span class="token punctuation">,</span> age<span class="token operator">:</span> number<span class="token punctuation">,</span> email<span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> any <span class="token punctuation">{</span>
    <span class="token comment">// Creating an random id</span>
    <span class="token keyword">const</span> id<span class="token operator">:</span> number <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Creating a new person</span>
    <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PersonModel</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> email<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Pushing the person to people array</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>people<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> id<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>After building <code class="language-text">save()</code>, let&#x27;s create more methods.</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">  <span class="token comment">// It will list all people</span>
  <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>PersonModel<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Let&#x27;s return a copy, so, in case, for any reason, the controller edits the array,</span>
    <span class="token comment">// it edits the copy and not the original one</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>people<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// It will return only one person</span>
  <span class="token function">getPerson</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">searchPerson</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token comment">// Let&#x27;s return a copy as well</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>data<span class="token punctuation">.</span>person <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// It will edit the person checking for every field, if that field is not null</span>
  <span class="token comment">// then it means it was edited and should be added to the edited object</span>
  <span class="token function">edit</span><span class="token punctuation">(</span>id<span class="token operator">:</span> number<span class="token punctuation">,</span> name<span class="token operator">:</span> string<span class="token punctuation">,</span> age<span class="token operator">:</span> number<span class="token punctuation">,</span> email<span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> boolean <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">searchPerson</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>people<span class="token punctuation">[</span>data<span class="token punctuation">.</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      person<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>age <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      person<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>email <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      person<span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>people<span class="token punctuation">[</span>data<span class="token punctuation">.</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> person<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// internal function that is going to search for an specific person</span>
  <span class="token comment">// and return the person and it&#x27;s index in the people array</span>
  <span class="token function">searchPerson</span><span class="token punctuation">(</span>id<span class="token operator">:</span> number<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span> person<span class="token operator">:</span> PersonModel<span class="token punctuation">;</span> index<span class="token operator">:</span> number <span class="token punctuation">}</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>people<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>people<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> person<span class="token punctuation">,</span> index <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span></code></pre></div><p>so now that we have our service, we are going to inject it in our controller and create our new <code class="language-text">@Post()</code> like this:</p><div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Controller<span class="token punctuation">,</span> Post<span class="token punctuation">,</span> Body <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@nestjs/common&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PeopleService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;src/people/service/people/people.service&#x27;</span><span class="token punctuation">;</span>

@<span class="token function">Controller</span><span class="token punctuation">(</span><span class="token string">&#x27;people&#x27;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">PeopleController</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> _peopleService<span class="token operator">:</span> PeopleService</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  @<span class="token function">Post</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">save</span><span class="token punctuation">(</span>
    @<span class="token function">Body</span><span class="token punctuation">(</span><span class="token punctuation">)</span> name<span class="token operator">:</span> string<span class="token punctuation">,</span>
    @<span class="token function">Body</span><span class="token punctuation">(</span><span class="token punctuation">)</span> age<span class="token operator">:</span> number<span class="token punctuation">,</span>
    @<span class="token function">Body</span><span class="token punctuation">(</span><span class="token punctuation">)</span> email<span class="token operator">:</span> string<span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span> ok<span class="token operator">:</span> boolean<span class="token punctuation">;</span> id<span class="token operator">:</span> number <span class="token punctuation">}</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_peopleService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> email<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> ok<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> id <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>So there, we have our <code class="language-text">save()</code> method with the decorator <code class="language-text">@Post()</code>, the <code class="language-text">save()</code> method receive some parameters from the body, that&#x27;s why we use <code class="language-text">@Body()</code>, and later call the method save from <code class="language-text">_peopleService</code>.</p><p>Now, you can see that using <code class="language-text">@Body()</code> for each parameter is not very convenient, so, we are going to use DTO&#x27;S</p><h2>DTO</h2><p>DTO stands for <code class="language-text">Data Transfer Object</code>, it is a concept that comes from java, so, that&#x27;s it, a DTO is basically an object that defines how we are going to send the data to the server, and using it with <code class="language-text">class-validator</code>, we can validate that data before sending that data over. So, probably we are using them more frequently on Post, Put operations.</p><p>So, first, let&#x27;s install <code class="language-text">yarn add class-validator</code> or (<code class="language-text">npm install class-validator</code>) and <code class="language-text">yarn add class-transformer</code> or (<code class="language-text">npm install class-transformer</code>)</p><p>Later on our <code class="language-text">main.ts</code> file, let&#x27;s add:</p><div class="gatsby-highlight has-highlighted-lines" data-language="js"><pre class="language-js"><code class="language-js"><span class="token operator">...</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">bootstrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">await</span> NestFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>AppModule<span class="token punctuation">)</span>
<span class="gatsby-highlight-code-line">  app<span class="token punctuation">.</span><span class="token function">useGlobalPipes</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ValidationPipe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>  <span class="token keyword">await</span> app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant">PORT</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token operator">...</span></code></pre></div><p>Later on, let&#x27;s create the file <code class="language-text">/src/people/dto/person-create.dto.ts</code> with the next content:</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> IsNotEmpty<span class="token punctuation">,</span> IsEmail<span class="token punctuation">,</span> IsInt<span class="token punctuation">,</span> Min <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;class-validator&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">PersonCreateDto</span> <span class="token punctuation">{</span>
  <span class="token comment">// this is the validator decorator</span>
  <span class="token comment">// you can create a custom message by adding an {message: &quot;String&quot;}</span>
  @<span class="token function">IsNotEmpty</span><span class="token punctuation">(</span><span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">&#x27;Name is required&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  readonly name<span class="token operator">:</span> string<span class="token punctuation">;</span>

  @<span class="token function">IsEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  readonly email<span class="token operator">:</span> string<span class="token punctuation">;</span>

  @<span class="token function">IsInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  @<span class="token function">Min</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">&#x27;It needs to have at least one number&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  readonly age<span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><p>As simple as that, you will have the DTO schema with validators to be used in the controller.</p><p>You can find all the validator decorators here: <a href="https://github.com/typestack/class-validator#validation-decorators" target="_blank" rel="nofollow noopener noreferrer">https://github.com/typestack/class-validator#validation-decorators</a></p><h2>Applying the DTO</h2><p>Now our controller <code class="language-text">src/people/controller/people/people.controller.ts</code> should look like this:</p><div class="gatsby-highlight has-highlighted-lines" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Controller<span class="token punctuation">,</span> Post<span class="token punctuation">,</span> Body <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@nestjs/common&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PeopleService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;src/people/service/people/people.service&#x27;</span><span class="token punctuation">;</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> PersonCreateDto <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;src/people/dto/person-create.dto&#x27;</span><span class="token punctuation">;</span></span>
@<span class="token function">Controller</span><span class="token punctuation">(</span><span class="token string">&#x27;people&#x27;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">PeopleController</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> _peopleService<span class="token operator">:</span> PeopleService</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  @<span class="token function">Post</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="gatsby-highlight-code-line">  <span class="token function">save</span><span class="token punctuation">(</span>@<span class="token function">Body</span><span class="token punctuation">(</span><span class="token punctuation">)</span> personCreateDto<span class="token operator">:</span> PersonCreateDto<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span> ok<span class="token operator">:</span> boolean<span class="token punctuation">;</span> id<span class="token operator">:</span> number <span class="token punctuation">}</span> <span class="token punctuation">{</span></span>    <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_peopleService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>
<span class="gatsby-highlight-code-line">      personCreateDto<span class="token punctuation">.</span>name<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">      personCreateDto<span class="token punctuation">.</span>age<span class="token punctuation">,</span></span><span class="gatsby-highlight-code-line">      personCreateDto<span class="token punctuation">.</span>email<span class="token punctuation">,</span></span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> ok<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> id <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>We replace all the <code class="language-text">@Body()</code> for a single one using the <code class="language-text">PersonCreateDto</code> class in the parameter, and we send that information to the <code class="language-text">_peopleService.save()</code> method.</p><p>if you try your REST api in postman, we should be able to see something like this on the url <code class="language-text">http://localhost:3001/people</code></p><p><img src="https://res.cloudinary.com/dl8ynwaiu/image/upload/v1596078611/Blog%20Posts/rest-api-nestjs-1/pmgcpbsh3loq5kj2nhde.png" alt="Successful Post Call"/></p><p>and to test the validations that we just made, we send an empty object in the body, and we will see all the error messages for each validator we have in our DTO</p><p><img src="https://res.cloudinary.com/dl8ynwaiu/image/upload/v1596078612/Blog%20Posts/rest-api-nestjs-1/glzfhoeq0djs38kt6o3x.png" alt="Error Post Call"/></p><hr/><p>Now that the fundamentals are set, we are just going to add more methods in our <strong>controller</strong> to handle <code class="language-text">@Post()</code>, <code class="language-text">@Get()</code>, <code class="language-text">@Get(&#x27;:id&#x27;)</code>, <code class="language-text">@Patch(&#x27;:id&#x27;)</code>, <code class="language-text">@Delete(&#x27;:id&#x27;)</code> and it should look like this:</p><h3>Controller</h3><p><code class="language-text">/src/people/controller/people/people.controller.ts</code></p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Controller<span class="token punctuation">,</span>Post<span class="token punctuation">,</span> Body<span class="token punctuation">,</span> Get<span class="token punctuation">,</span> Patch<span class="token punctuation">,</span> Param<span class="token punctuation">,</span> HttpException<span class="token punctuation">,</span> HttpStatus<span class="token punctuation">,</span> Delete<span class="token punctuation">,</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@nestjs/common&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PeopleService <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;src/people/service/people/people.service&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PersonCreateDto <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;src/people/dto/person-create.dto&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PersonModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;src/people/model/person.model&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PersonEditDto <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;src/people/dto/person-edit.dto&#x27;</span><span class="token punctuation">;</span>

@<span class="token function">Controller</span><span class="token punctuation">(</span><span class="token string">&#x27;people&#x27;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">PeopleController</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">private</span> _peopleService<span class="token operator">:</span> PeopleService</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  @<span class="token function">Post</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">save</span><span class="token punctuation">(</span>@<span class="token function">Body</span><span class="token punctuation">(</span><span class="token punctuation">)</span> personCreateDto<span class="token operator">:</span> PersonCreateDto<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span> ok<span class="token operator">:</span> boolean<span class="token punctuation">;</span> id<span class="token operator">:</span> number <span class="token punctuation">}</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_peopleService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>
      personCreateDto<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
      personCreateDto<span class="token punctuation">.</span>age<span class="token punctuation">,</span>
      personCreateDto<span class="token punctuation">.</span>email<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> ok<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> id <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  @<span class="token function">Get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>PersonModel<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_peopleService<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  @<span class="token function">Get</span><span class="token punctuation">(</span><span class="token string">&#x27;:id&#x27;</span><span class="token punctuation">)</span>
  <span class="token function">listSinglePerson</span><span class="token punctuation">(</span>@<span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">&#x27;id&#x27;</span><span class="token punctuation">)</span> id<span class="token operator">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> idToNumber<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_peopleService<span class="token punctuation">.</span><span class="token function">getPerson</span><span class="token punctuation">(</span>idToNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>response <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">HttpException</span><span class="token punctuation">(</span>
        <span class="token punctuation">{</span>
          status<span class="token operator">:</span> HttpStatus<span class="token punctuation">.</span><span class="token constant">NOT_FOUND</span><span class="token punctuation">,</span>
          error<span class="token operator">:</span> <span class="token string">&#x27;Person not found&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token number">404</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> response<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  @<span class="token function">Patch</span><span class="token punctuation">(</span><span class="token string">&#x27;:id&#x27;</span><span class="token punctuation">)</span>
  <span class="token function">edit</span><span class="token punctuation">(</span>@<span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">&#x27;id&#x27;</span><span class="token punctuation">)</span> id<span class="token operator">:</span> string<span class="token punctuation">,</span> @<span class="token function">Body</span><span class="token punctuation">(</span><span class="token punctuation">)</span> personEditDto<span class="token operator">:</span> PersonEditDto<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> idToNumber<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_peopleService<span class="token punctuation">.</span><span class="token function">edit</span><span class="token punctuation">(</span>
      idToNumber<span class="token punctuation">,</span>
      personEditDto<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
      personEditDto<span class="token punctuation">.</span>age<span class="token punctuation">,</span>
      personEditDto<span class="token punctuation">.</span>email<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>response <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">HttpException</span><span class="token punctuation">(</span>
        <span class="token punctuation">{</span>
          status<span class="token operator">:</span> HttpStatus<span class="token punctuation">.</span><span class="token constant">NOT_FOUND</span><span class="token punctuation">,</span>
          error<span class="token operator">:</span> <span class="token string">&#x27;Person not found&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token number">404</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      ok<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  @<span class="token function">Delete</span><span class="token punctuation">(</span><span class="token string">&#x27;:id&#x27;</span><span class="token punctuation">)</span>
  <span class="token keyword">delete</span><span class="token punctuation">(</span>@<span class="token function">Param</span><span class="token punctuation">(</span><span class="token string">&#x27;id&#x27;</span><span class="token punctuation">)</span> id<span class="token operator">:</span> string<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> idToNumber<span class="token operator">:</span> number <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_peopleService<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>idToNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>response <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">HttpException</span><span class="token punctuation">(</span>
        <span class="token punctuation">{</span>
          status<span class="token operator">:</span> HttpStatus<span class="token punctuation">.</span><span class="token constant">NOT_FOUND</span><span class="token punctuation">,</span>
          error<span class="token operator">:</span> <span class="token string">&#x27;Person not found&#x27;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token number">404</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      ok<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><h3>Service</h3><p><code class="language-text">src/people/service/people/people.service.ts</code></p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> Controller <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@nestjs/common&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PersonModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;src/people/model/person.model&#x27;</span><span class="token punctuation">;</span>

@<span class="token function">Controller</span><span class="token punctuation">(</span><span class="token string">&#x27;people&#x27;</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">PeopleService</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> people<span class="token operator">:</span> Array<span class="token operator">&lt;</span>PersonModel<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token function">save</span><span class="token punctuation">(</span>name<span class="token operator">:</span> string<span class="token punctuation">,</span> age<span class="token operator">:</span> number<span class="token punctuation">,</span> email<span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> any <span class="token punctuation">{</span>
    <span class="token keyword">const</span> id<span class="token operator">:</span> number <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">10000</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PersonModel</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> email<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>people<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> id<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>PersonModel<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// Let&#x27;s return a copy, so, in case, for any reason, the controller edits the array, it edits the copy and not the original</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>people<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">getPerson</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">searchPerson</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token comment">// Let&#x27;s return a copy as well</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>data<span class="token punctuation">.</span>person <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">edit</span><span class="token punctuation">(</span>id<span class="token operator">:</span> number<span class="token punctuation">,</span> name<span class="token operator">:</span> string<span class="token punctuation">,</span> age<span class="token operator">:</span> number<span class="token punctuation">,</span> email<span class="token operator">:</span> string<span class="token punctuation">)</span><span class="token operator">:</span> boolean <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">searchPerson</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>people<span class="token punctuation">[</span>data<span class="token punctuation">.</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>name <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      person<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>age <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      person<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>email <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      person<span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>people<span class="token punctuation">[</span>data<span class="token punctuation">.</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> person<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">delete</span><span class="token punctuation">(</span>id<span class="token operator">:</span> number<span class="token punctuation">)</span><span class="token operator">:</span> boolean <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">searchPerson</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>people<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">searchPerson</span><span class="token punctuation">(</span>id<span class="token operator">:</span> number<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span> person<span class="token operator">:</span> PersonModel<span class="token punctuation">;</span> index<span class="token operator">:</span> number <span class="token punctuation">}</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>people<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span>id <span class="token operator">===</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>people<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> person<span class="token punctuation">,</span> index <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div><p>and how you can tell, a new DTO (<code class="language-text">personEditDto</code>) was created for the <code class="language-text">edit</code> method in the controller, so, here it is:</p><div class="gatsby-highlight" data-language="js"><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> IsEmail<span class="token punctuation">,</span> IsOptional <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;class-validator&#x27;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">PersonEditDto</span> <span class="token punctuation">{</span>
  readonly name<span class="token operator">:</span> string<span class="token punctuation">;</span>

  @<span class="token function">IsOptional</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  @<span class="token function">IsEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  readonly email<span class="token operator">:</span> string<span class="token punctuation">;</span>

  readonly age<span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div><p>I&#x27;m sorry if I took a big jump at the end, writing isn&#x27;t easy at all, but, as you can tell, creating the other methods in the controller besides <code class="language-text">@Post()</code> aren&#x27;t that hard and it&#x27;s kinda, to repeat the same things.</p><ol><li>Create the method in the controller</li><li>Create the method in the service, and play with the array according of what we need the method to do</li><li>Create DTO if needed</li><li>Use the method from the service in the method in the controller.</li></ol><p>After you are done with them and with this code base, you should be able to access: <code class="language-text">http://localhost:3001/people</code> on <code class="language-text">Get</code>, <code class="language-text">Post</code>, and <code class="language-text">http://localhost:3001/people/&lt;userd_id&gt;</code> for decorators <code class="language-text">Get(&#x27;:id&#x27;)</code>, <code class="language-text">Patch(&#x27;:id&#x27;)</code> and <code class="language-text">@Delete(&#x27;:id&#x27;)</code>.</p><p>Thank you so much for reading, I hope this post was useful for you as it was for me while learning RestJS.</p><p>The full repository can be found here:</p><p><a href="https://github.com/jonnyisdeveloping/nestjs-rest-api/tree/master/rest-api" target="_blank" rel="nofollow noopener noreferrer">https://github.com/jonnyisdeveloping/nestjs-rest-api/tree/master/rest-api</a></p></div><div class="blog-post__footer"><div><a href="/blog/category/nest-js">NestJS</a> <!-- -->&amp;<!-- --> <a href="/blog/category/javascript">Javascript</a></div><div class="mt-2 text-gray-500">2020 / 8 / 9</div><div class="mt-8 md:flex"><div class="mb-4 md:mb-0 text-center"><a href="/blog/setting-up-a-react-app-with-es-lint-and-prettier-in-visual-studio-code"><div><div> <!-- -->&lt;<!-- --> <!-- -->Setting up a React app with ESLint and Prettier in Visual Studio Code</div></div></a></div><span class="flex-grow hidden md:block"></span><div class="text-center"><a href="/blog/nvm"><div><div> <!-- -->NVM<!-- --> <!-- -->&gt;</div></div></a></div></div></div></div></main><div id="contact-me" class="footer container max-w-screen-lg mt-12 px-4"><hr class="footer__divider w-3/4 bg-gray-700 mx-auto {}"/><h5 class="footer__title">Contact Me</h5><form class="footer__form "><div class="footer__form-flex"><input type="text" class="footer__form-name" name="name" placeholder="Name" required=""/><input type="email" class="footer__form-email" name="email" placeholder="Email" required=""/></div><textarea name="message" id="" rows="7" placeholder="Message" required=""></textarea><div class="footer__form-submit-wrapper"><button class="footer__form-submit home__btn btn btn--full " type="submit">Send</button><div class="footer__linkedin"><a href="https://www.linkedin.com/in/jonnyacevedo" target="_blank" rel="nofollow noopener noreferrer"><img src="https://res.cloudinary.com/dl8ynwaiu/image/upload/v1587906079/portfolio/linkedin-icon_zwu4m7.svg" alt="Linkedin Icon"/></a></div></div></form><div class="footer__rights text-center text-gray-600 text-sm pt-2">Copyrights  <!-- -->2022<!-- -->. All rights reserved.</div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-172915920-1', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/creating-a-rest-api-with-nest-js";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-1ca532f105f5f342d7a2.js"],"component---src-layouts-blog-category-js":["/component---src-layouts-blog-category-js-8fdce2b10cdda9f67f9b.js"],"component---src-layouts-blog-list-js":["/component---src-layouts-blog-list-js-38384ecf294217d85257.js"],"component---src-layouts-blog-post-js":["/component---src-layouts-blog-post-js-1a46acb6dcb05e9a30a1.js"],"component---src-pages-404-js":["/component---src-pages-404-js-ed531544adc6692411dd.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-6139de3099ea9bf87a1a.js"],"component---src-pages-home-js":["/component---src-pages-home-js-52b34e83fad06d5fc230.js"],"component---src-pages-index-js":["/component---src-pages-index-js-46d21c5e9a9e4eb57eab.js"]};/*]]>*/</script><script src="/component---src-layouts-blog-post-js-1a46acb6dcb05e9a30a1.js" async=""></script><script src="/commons-f30d36c3b5dd7c437f7b.js" async=""></script><script src="/app-1ca532f105f5f342d7a2.js" async=""></script><script src="/styles-a8d7dafea8d6423ec243.js" async=""></script><script src="/framework-3c607a9ab5a1c641bbca.js" async=""></script><script src="/webpack-runtime-70424c2a5e394e63a2fa.js" async=""></script></body></html>